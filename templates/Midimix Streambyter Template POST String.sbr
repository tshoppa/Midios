\n  Ass KDataChan = B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 B0 91 91 91 91 91 91 91 91 91\n\n  Sub setLED ID stat delay\n    Mat chanCom = 90 + recChan \n    snd chanCom ID stat +Ddelay\n  End\n  Sub LED_ON ID\n    Mat chanCom = 90 + recChan\n    snd chanCom ID ON\n  End\n  Sub LED_OFF ID\n    Mat chanCom = 90 + recChan\n    snd chanCom ID OFF\n  End\n  Sub getBtnField base index to\n    Mat I0 = base + index\n    Mat I0 = I0 - 1\n    If isBankLeft\n      ASS to = II0\n    Else\n      Ass to = JI0\n    End\n  End\n  Sub getOtherBtnField base index to\n    Mat I0 = base + index\n    Mat I0 = I0 - 1\n    If isBankLeft\n      ASS to = JI0\n    Else\n      Ass to = II0\n    End\n  End\n  Sub setDataField base index val\n    Mat I0 = base + index\n    Mat I0 = I0 - 1\n    Ass KI0 = val\n  End\n  Sub getDataField base index to\n    Mat I0 = base + index\n    Mat I0 = I0 - 1\n    Ass to = KI0\n  End\n  Sub getDataByButton base btnIdx to\n    getBtnField BtnRef btnIdx J0\n    getDataField base J0 to\n  End\n  Sub setDataByButton base btnIdx val\n    getBtnField BtnRef btnIdx J0\n    setDataField base J0 val\n  End\n  Sub fireBtn index val\n    getBtnField BtnRef index vRef\n    getDataField DataCC vRef vCC\n    getDataField DataChan vRef vChan\n    Mat chanCom = B0 + vChan\n    Snd chanCom vCC val\n  End\n  Sub getBtnSend index valcc valch\n    getBtnField BtnRef index vRef\n    getDataField DataCC vRef valcc\n    getDataField DataChan vRef valch\n  End\n  Sub fireBtnPressed index\n    getBtnSend index vCC vChan\n    getBtnField BtnSndVal index vVal\n    Snd vChan vCC vVal\n  End\n  Sub fireBtnRelease index\n    getBtnSend index vCC vChan\n    Mat I0 = vChan &amp; F0\n    If I0 == 90\n      Mat J0 = vChan &amp; 0F\n      Mat vChan = 80 + J0\n    End\n    Snd vChan vCC 0\n  End\n  Sub switchBtnStats targetBank\n    Ass curBank = targetBank\n    Ass J0 = 1\n    While J0 &lt; 19\n      getBtnField BtnRef J0 vRef\n      getOtherBtnField BtnRef J0 vOthRef\n      getDataField DataStat vRef vStat\n      getDataField DataStat vOthRef vOthStat\n      getBtnField BtnType J0 vType\n      If vRef != vOthRef \n        If vStat != vOthStat \n          setLED J0 vStat 0\n        End\n      End\n      If vType == sb\n        If vStat == ON\n            getBtnField BtnGroup J0 vGrp\n            Ass K0 = vGrp\n            Ass LK0 = J0\n        End\n      End\n      Mat J0 = J0 + 1\n    End\n  End\n  Sub handleSpecialKeys result\n    ASS result = FALSE\n    If bankLeftBtnPressed\n      If isBankRight\n        LED_ON bankLeftBtn\n        LED_OFF bankRightBtn\n        switchBtnStats bankLeft\n      end\n      ASS result = TRUE\n    End\n    If bankRightBtnPressed\n      if isBankLeft\n        LED_ON bankRightBtn\n        LED_OFF bankLeftBtn\n        switchBtnStats bankRight\n      End\n      ASS result = TRUE\n    End\n    If soloBtnPressed\n      ASS result = TRUE\n    End\n  End\n  Ass J0 = 1\n  While J0 &lt; 1B\n    LED_ON J0 \n    Mat K0 = J0 * $10\n    Mat K0 = K0 + $200\n    setLED J0 OFF K0\n    Mat J0 = J0 + 1\n  End\n  setLED bankLeftBtn ON $450\n  Ass curBank = bankLeft\nEnd \nIf NoteOn\n  handleSpecialKeys isXKey\n  If isXKey == FALSE \n    getBtnField BtnType M1 vType \n    If vType == bt\n      LED_ON M1\n      fireBtnPressed M1\n    Else\n      if vType == tb\n        fireBtnPressed M1\n        getBtnField BtnRef M1 vRef \n        getDataField DataStat vRef vStat \n        If vStat == ON\n          LED_OFF M1\n          setDataField DataStat vRef OFF\n        Else\n          LED_ON M1\n          setDataField DataStat vRef ON\n        End\n      Else\n        if vType == sb\n          fireBtnPressed M1\n        Else\n          LED_ON M1\n        End\n      End\n    End\n  End\nEnd\nIf NoteOff\n  If bankLeftBtnPressed\n  Else\n    If bankRightBtnPressed\n    else\n      if soloBtnPressed\n      else\n        getBtnField BtnType M1 vType\n        getBtnField BtnGroup M1 vGrp\n        If vType == bt \n          fireBtnRelease M1\n          LED_OFF M1\n        Else\n          If vType == ta \n            LED_OFF M1\n            ass K0 = vGrp\n            Ass tLen = LK0 \n            ass tLoop = 1\n            ass togCount = 0\n            while tLoop &lt;= tLen\n              mat K0 = vGrp + tLoop\n              Ass tbId = LK0\n              getDataByButton DataStat tbId vStat\n              mat togCount = togCount + vStat\n              mat tLoop = tLoop + 1\n            end\n            if togCount == tLen \n              ass tLoop = 1\n              while tLoop &lt;= tLen\n                mat K0 = vGrp + tLoop\n                Ass tbId = LK0\n                setDataByButton DataStat tbId OFF\n                LED_OFF tbId\n                fireBtnPressed tbId\n                mat tLoop = tLoop + 1\n              end\n            Else\n              ass tLoop = 1\n              while tLoop &lt;= tLen\n                mat K0 = vGrp + tLoop\n                Ass tbId = LK0\n                getBtnField BtnRef tbId vRef\n                getDataField DataStat vRef vStat\n                if vStat == OFF\n                  LED_ON tbId\n                  setDataField DataStat vRef ON\n                  fireBtnPressed tbId\n                end\n                mat tLoop = tLoop + 1\n              end\n            End\n          Else\n            If vType == sb \n              setDataByButton DataStat M1 ON\n              fireBtnRelease M1\n              Ass J0 = vGrp\n              Ass tbId = LJ0\n              If tbId != M1\n                If J0 &gt; 0\n                  LED_OFF tbId\n                  setDataByButton DataStat tbId OFF\n                End\n              End\n              Ass J0 = vGrp\n              ass LJ0 = M1\n              LED_ON M1\n            Else\n            End\n          End\n        End\n      End\n    End\n  End\nEnd\nIf isCC\n  If M1 &lt; 22 \n    getBtnField Ctrls M1 vCC\n    getBtnField CtrlChans M1 vChan\n    Mat I0 = B0 + vChan\n    Send I0 vCC M2\n    Block\n  End\nEnd\nNX = XX +B</string>\n</dict>\n</plist>